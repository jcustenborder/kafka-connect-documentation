=============
Standard Solr
=============

.. image:: HttpSolrSinkConnector.svg


This connector is used to connect to write directly to a Solr core.


.. TIP::
    The target collection for this connector is selected by the topic name. `Transformations <https://kafka.apache.org/documentation/#connect_transforms>`_ like the RegexRouter transformation can be used to change the topic name before it is sent to Solr.



-------------
Configuration
-------------

--------------
Authentication
--------------


^^^^^^^^^^^^^
solr.password
^^^^^^^^^^^^^

The password to use for basic authentication.

**Importance:** High

**Type:** Password

**Default Value:** [hidden]



^^^^^^^^^^^^^
solr.username
^^^^^^^^^^^^^

The username to use for basic authentication.

**Importance:** High

**Type:** String



----------
Connection
----------


^^^^^^^^
solr.url
^^^^^^^^

Url to connect to solr with.

**Importance:** High

**Type:** String



--------
Indexing
--------


^^^^^^^^^^^^^^^
solr.queue.size
^^^^^^^^^^^^^^^

The number of documents to batch together before sending to Solr. See `ConcurrentUpdateSolrClient.Builder.withQueueSize(int) <https://lucene.apache.org/solr/6_3_0/solr-solrj/org/apache/solr/client/solrj/impl/ConcurrentUpdateSolrClient.Builder.html#withQueueSize-int->`_

**Importance:** High

**Type:** Int

**Default Value:** 100



^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
solr.delete.documents.enabled
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Flag to determine if the connector should delete documents. General practice in Kafka is to treat a record that contains a key with a null value as a delete.

**Importance:** Medium

**Type:** Boolean

**Default Value:** true



^^^^^^^^^^^^^^^^^
solr.thread.count
^^^^^^^^^^^^^^^^^

The number of threads used to empty ConcurrentUpdateSolrClients queue. See `ConcurrentUpdateSolrClient.Builder.withThreadCount(int) <https://lucene.apache.org/solr/6_3_0/solr-solrj/org/apache/solr/client/solrj/impl/ConcurrentUpdateSolrClient.Builder.html#withThreadCount-int->`_

**Importance:** Medium

**Type:** Int

**Default Value:** 1



^^^^^^^^^^^^^^^^^^
solr.commit.within
^^^^^^^^^^^^^^^^^^

Configures Solr UpdaterRequest for a commit within the requested number of milliseconds. -1 disables the commit within setting and relies on the standard Solr commit setting.

**Importance:** Low

**Type:** Int

**Default Value:** -1






--------
Examples
--------

^^^^^^^^
Standard
^^^^^^^^

This example will connect to a Solr Cloud cluster without authentication.



Select one of the following configuration methods based on how you have deployed Kafka Connect.
Distributed Mode will the the JSON / REST examples. Standalone mode will use the properties based
example.


**Distributed Mode Json**

.. literalinclude:: HttpSolrSinkConnector.example.example.json
    :language: JSON


**Standalone Mode Properties**

.. literalinclude:: HttpSolrSinkConnector.example.example.properties
    :language: properties



^^^^^^^^^^^^^^^^^^^^
Basic Authentication
^^^^^^^^^^^^^^^^^^^^

This example will connect to a Solr Cloud cluster using basic authentication.



Select one of the following configuration methods based on how you have deployed Kafka Connect.
Distributed Mode will the the JSON / REST examples. Standalone mode will use the properties based
example.


**Distributed Mode Json**

.. literalinclude:: HttpSolrSinkConnector.authentication.example.json
    :language: JSON


**Standalone Mode Properties**

.. literalinclude:: HttpSolrSinkConnector.authentication.example.properties
    :language: properties




