=====================
StatsDSourceConnector
=====================

The StatsDSourceConnector is used to listen for StatsD messages and write them to Kafka


.. IMPORTANT::
    This connector listens on a network port. Running more than one task or running in distributed mode can cause some undesired effects if another task already has the port open. It is recommended that you run this connector in :term:`Standalone Mode`.



-------------
Configuration
-------------

-------
General
-------


^^^^^
topic
^^^^^

The topic to write the data to.

**Importance:** High

**Type:** String



^^^^
port
^^^^

The port to listen on.

**Importance:** High

**Type:** Int

**Default Value:** 8125

**Validator:** ValidPort{start=1000, end=65535}






--------
Examples
--------

^^^^^^^^^^^^^^^^^^^^^^
Property based example
^^^^^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `standalone mode
<http://docs.confluent.io/current/connect/concepts.html#standalone-workers>`_.

.. code-block:: properties
    :name: connector.properties
    :emphasize-lines: 4

    name=StatsDSourceConnector1
    connector.class=com.github.jcustenborder.kafka.connect.statsd.StatsDSourceConnector
    tasks.max=1
    topic=< Required Configuration >




^^^^^^^^^^^^^^^^^^
Rest based example
^^^^^^^^^^^^^^^^^^


This configuration is used typically along with `distributed mode
<http://docs.confluent.io/current/connect/concepts.html#distributed-workers>`_.
Write the following json to `connector.json`, configure all of the required values, and use the command below to
post the configuration to one the distributed connect worker(s). Check here for more information about the
`Kafka Connect REST Interface. <https://docs.confluent.io/current/connect/restapi.html>`_

.. code-block:: json
    :caption: Connect Distributed REST example
    :name: connector.json
    :emphasize-lines: 6

    {
      "config" : {
        "name" : "StatsDSourceConnector1",
        "connector.class" : "com.github.jcustenborder.kafka.connect.statsd.StatsDSourceConnector",
        "tasks.max" : "1",
        "topic" : "< Required Configuration >"
      }
    }



Use curl to post the configuration to one of the Kafka Connect Workers. Change `http://localhost:8083/` the the endpoint of
one of your Kafka Connect worker(s).

.. code-block:: bash
    :caption: Create a new connector

    curl -s -X POST -H 'Content-Type: application/json' --data @connector.json http://localhost:8083/connectors


.. code-block:: bash
    :caption: Update an existing connector

    curl -s -X PUT -H 'Content-Type: application/json' --data @connector.json http://localhost:8083/connectors/StatsDSourceConnector1/config



