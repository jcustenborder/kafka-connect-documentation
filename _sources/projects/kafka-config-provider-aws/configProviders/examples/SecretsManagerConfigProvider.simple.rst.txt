=====
Token
=====

The following example uses the us-west-2 region and prefixes all secrets with `staging`.


.. TIP::
    Some of the settings of this config provider can be configured via environment variables.



--------------------
Worker Configuration
--------------------

Add the following configuration to your Connect worker config file to enable this ConfigProvider to
be used by connectors.


.. code-block:: properties
    :caption: Worker Configuration

    config.providers=secretManager
    config.providers.secretManager.class=com.github.jcustenborder.kafka.config.aws.SecretsManagerConfigProvider
    config.providers.secretManager.param.aws.region=us-west-2
    config.providers.secretManager.param.secret.prefix=staging
    # AWS Authentication
    config.providers.secretManager.param.aws.secret.key=...
    config.providers.secretManager.param.aws.access.key=...



-----------------------
Connector Configuration
-----------------------

Add the following configurations to your connector configuration when you would like to retrieve
a value from the config provider

.. code-block:: properties
    :caption: Connector Configuration

    {
      "username" : "${secretManager:secret/test/some/connector:username}",
      "password" : "${secretManager:secret/test/some/connector:password}"
    }

Given these connector properties and worker configuration:

1. it should map the secret "staging/secret/test/some/connector" from "us-west-2", and
2. fetch values from the keys "username" and "password" into these configurations.

